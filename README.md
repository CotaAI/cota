# COTA

COTA (COllaborative Task Agent) æ˜¯ä¸€ä¸ªç”Ÿæˆå¼å¤šå¯¹è¯å¹³å°ï¼Œç”¨äºæ„å»ºæ™ºèƒ½å¯¹è¯æœºå™¨äººå’Œä»»åŠ¡æ‰§è¡Œä»£ç†ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¤– **å¤šæ™ºèƒ½ä½“æ¶æ„**: æ”¯æŒ simplebot å’Œ taskbot ç­‰å¤šç§æ™ºèƒ½ä½“ç±»å‹
- ğŸ’¬ **å¤šé€šé“æ”¯æŒ**: å‘½ä»¤è¡Œã€WebSocketã€Socket.IOã€SSE ç­‰å¤šç§äº¤äº’æ–¹å¼
- ğŸ§  **LLM é›†æˆ**: æ”¯æŒ OpenAIã€DeepSeekã€é€šä¹‰åƒé—®ç­‰ä¸»æµå¤§è¯­è¨€æ¨¡å‹
- ğŸ“ **å¯¹è¯ç®¡ç†**: å†…ç½® DST(å¯¹è¯çŠ¶æ€è·Ÿè¸ª) å’Œå¯¹è¯æµç¨‹æ§åˆ¶
- ğŸ”§ **çµæ´»åŠ¨ä½œç³»ç»Ÿ**: æ”¯æŒ HTTP è¯·æ±‚ã€Python è„šæœ¬ã€æ’ä»¶ç­‰å¤šç§åŠ¨ä½œæ‰§è¡Œ
- ğŸ“š **RAG æ”¯æŒ**: å†…ç½®æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œæ”¯æŒå‘é‡æ•°æ®åº“
- ğŸ—„ï¸ **å¤šå­˜å‚¨åç«¯**: å†…å­˜ã€MySQLã€Redis ç­‰å¤šç§æ•°æ®å­˜å‚¨é€‰æ‹©

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ Poetry (æ¨è)
poetry install

# æˆ–ä½¿ç”¨ pip
pip install -r requirements.txt
```

### è¿è¡Œç¤ºä¾‹æœºå™¨äºº

#### SimpleBot - ç®€å•é—®ç­”æœºå™¨äºº

```bash
cd bots/simplebot
cota run --channel=cmdline
# æˆ–ä½¿ç”¨ Socket.IO
cota run --channel=socket.io
```

#### TaskBot - ä»»åŠ¡æ‰§è¡Œæœºå™¨äºº

```bash
cd bots/taskbot
cota run
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
cota/
â”œâ”€â”€ cota/                   # æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ actions/           # åŠ¨ä½œæ‰§è¡Œç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ action.py     # åŸºç¡€åŠ¨ä½œç±»
â”‚   â”‚   â”œâ”€â”€ rag.py        # RAG æ£€ç´¢åŠ¨ä½œ
â”‚   â”‚   â”œâ”€â”€ form.py       # è¡¨å•å¤„ç†
â”‚   â”‚   â””â”€â”€ executors/    # æ‰§è¡Œå™¨ (HTTP, Python, Script)
â”‚   â”œâ”€â”€ channels/          # é€šä¿¡é€šé“
â”‚   â”‚   â”œâ”€â”€ cmdline.py    # å‘½ä»¤è¡Œæ¥å£
â”‚   â”‚   â”œâ”€â”€ websocket.py  # WebSocket æœåŠ¡
â”‚   â”‚   â””â”€â”€ socketio.py   # Socket.IO æœåŠ¡
â”‚   â”œâ”€â”€ dpl/              # å¯¹è¯å¤„ç†é€»è¾‘
â”‚   â”œâ”€â”€ llm.py            # LLM é›†æˆ
â”‚   â””â”€â”€ agent.py          # æ™ºèƒ½ä½“æ ¸å¿ƒ
â”œâ”€â”€ bots/                  # ç¤ºä¾‹æœºå™¨äºº
â”‚   â”œâ”€â”€ simplebot/        # ç®€å•å¯¹è¯æœºå™¨äºº
â”‚   â””â”€â”€ taskbot/          # ä»»åŠ¡æ‰§è¡Œæœºå™¨äºº
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ tests/                 # æµ‹è¯•ç”¨ä¾‹
```

## âš™ï¸ é…ç½®è¯´æ˜

æ¯ä¸ªæœºå™¨äººåŒ…å«ä¸¤ä¸ªä¸»è¦é…ç½®æ–‡ä»¶ï¼š

### `endpoints.yml` - æœåŠ¡ç«¯ç‚¹é…ç½®

```yaml
# æ•°æ®å­˜å‚¨é…ç½®
base_store:
  type: Memory  # æˆ– MySQL
  
# é€šé“é…ç½®  
channel:
  type: Memory  # æˆ– Redis

# LLM é…ç½®
llm:
  type: api
  apitype: openai
  key: your_api_key
  apibase: your_api_endpoint
```

### `agent.yml` - æ™ºèƒ½ä½“é…ç½®

```yaml
system:
  description: "æ™ºèƒ½ä½“çš„æè¿°å’Œè§’è‰²è®¾å®š"

actions:
  # å®šä¹‰æ™ºèƒ½ä½“å¯æ‰§è¡Œçš„åŠ¨ä½œ

dialogue:
  # é…ç½®å¯¹è¯æµç¨‹å’Œç­–ç•¥
```

## ğŸ“š æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒï¼š
- [å¿«é€Ÿå…¥é—¨](docs/src/tutorial/quick_start.md)
- [æ ¸å¿ƒæ¦‚å¿µ](docs/src/concepts/)
- [API æ–‡æ¡£](docs/)

## ğŸ› ï¸ å¼€å‘

### ç¯å¢ƒè¦æ±‚

- Python >= 3.12
- Poetry (æ¨è) æˆ– pip

### è¿è¡Œæµ‹è¯•

```bash
pytest tests/
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

[è®¸å¯è¯ä¿¡æ¯å¾…æ·»åŠ ]
